# This is your new, clean domain.yml file
version: "3.1"

intents:
  - greet
  - goodbye
  - thanks
  - inform
  - affirm
  - deny
  - time_estimation
  - mood_great
  - mood_unhappy
  - bot_challenge
  - feedback
  - bot_capabilities
  - request_paper_analysis
  - navigate_website
  - login_help
  - upload_question_paper
  - predictive_analysis
  - subject_analysis
  - study_plan
  - exam_preparation_tips
  - mock_tests
  - general_small_talk
  - help
  - profile_navigation_issue
  - error_handling
  - document_format
  - analysis_parameters
  - privacy_concerns
  - positive_feedback
  - negative_feedback
  - out_of_scope # This was missing from stories.yml

entities:
  - department
  - semester
  - pattern
  - number
  - page
  - subject
  - difficulty
  - document_type
  - email
  - feedback_type
  - study_duration
  - difficulty_level
  - question_count
  - time_limit
  - selected_subject # Added to fix form errors

slots:
  department:
    type: text
    mappings:
      - type: from_entity
        entity: department
  semester:
    type: text
    mappings:
      - type: from_entity
        entity: semester
  pattern:
    type: text
    mappings:
      - type: from_entity
        entity: pattern
  duration:
    type: float
    mappings:
      - type: from_entity
        entity: number
  uploaded_file:
    type: text
    influence_conversation: false
    mappings:
      - type: from_text
  current_page:
    type: text
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: page
  study_duration:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: study_duration
  question_count:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: question_count
  time_limit:
    type: float
    influence_conversation: true
    mappings:
      - type: from_entity
        entity: time_limit
  selected_subject:
    type: text
    mappings:
      - type: from_entity
        entity: selected_subject

  difficulty_level:
    type: text
    mappings:
      - type: from_entity
        entity: difficulty_level

responses:
  # --- Core Responses ---
  utter_greet:
    - text: "Hello! How can I assist you today?"
    - text: "Hi there! Ready to ace your exams?"
    - text: "Welcome back! How can I help?"
  utter_goodbye:
    - text: "Goodbye! Feel free to return if you need more help."
    - text: "See you later! Good luck with your studies!"
  utter_iamabot:
    - text: "I am a bot, powered by Rasa."
  utter_happy:
    - text: "Great, carry on!"
  utter_cheer_up:
    - text: "Here is something to cheer you up:"
      image: "https://i.imgur.com/nGF1K8f.jpg"
  utter_did_that_help:
    - text: "Did that help you?"
  utter_ask_department:
    - text: "Which department? (e.g. Computer Engineering, IT)"
  utter_ask_semester:
    - text: "Which semester? (e.g. sem 3)"
  utter_ask_selected_subject:
    - text: "Which subject do you want me to analyze?"
  utter_ask_pattern:
    - text: "Which exam insem/endsem/ of which pattern 2019/2015 pattern? (e.g. Insem 2019 pattern)"
  utter_thanks:
    - text: "You're welcome! Let me know if you need anything else."
  utter_default:
    - text: "I'm not sure how to help with that. Could you rephrase?"
  utter_help_options:
    - text: "I can help with:\n- Document analysis\n- Study planning\n- Website navigation\nWhat do you need assistance with?"
  
  # --- Feature Responses ---
  utter_bot_capabilities:
    - text: "I can help with: \n- Analyzing question papers\n- Predicting important topics\n- Creating study plans\n- Generating mock tests\n- Navigating website content\nAsk me anything about exam preparation!"
  utter_processing_time:
    - text: "Analysis typically takes 1-2 minutes depending on document size"
  utter_ask_document_upload:
    - text: "Please upload your question paper (PDF/DOCX format)"
  utter_confirm_document_uploaded:
    - text: "I've received your document. Would you like me to analyze it?"
  utter_ask_reupload:
    - text: "Could you please upload the document again?"
  utter_ask_study_duration:
    - text: "How many days do you have for preparation?"
  utter_exam_preparation_tips:
    - text: "Here are some quick tips: 1. Review past papers. 2. Focus on high-frequency topics. 3. Make short notes for revision. 4. Don't forget to get good sleep!"
  utter_privacy_policy:
    - text: "Your documents are deleted after 24 hours and encrypted during processing"
  utter_analysis_methodology:
    - text: "I analyze papers using:\n- Topic frequency analysis\n- Question pattern recognition\n- Historical trend comparison."
  utter_supported_formats:
    - text: "I support both PDF and DOCX formats. Scanned documents should be searchable PDFs."
  utter_profile_navigation:
    - text: "To access your profile, click on the top-right icon and then select 'Profile'."

  # --- DEAD CODE (Can be deleted, but harmless) ---
  utter_positive_feedback_response:
    - text: "Thank you for your kind feedback! We're glad to help."
  utter_negative_feedback_response:
    - text: "We apologize for the inconvenience. Your feedback helps us improve."
  utter_ask_specific_page:
    - text: "Which section would you like to visit?"
  utter_offer_help:
    - text: "I'm here to help! What do you need assistance with?"
  utter_login_help:
    - text: "I can help you with login issues. Please describe your problem."
  utter_ask_subject_details:
    - text: "Which subject would you like to analyze?"
  utter_apology:
    - text: "I apologize for the confusion. Let me try to help again."
  utter_offer_more_assistance:
    - text: "Is there anything else I can assist you with?"

# This 'actions' list is now 100% correct
# It matches your actions.py file
actions:
  - action_fetch_and_analyze
  - action_handle_navigation
  - action_generate_mock_test
  - action_analyze_question_paper
  - action_store_feedback

  - validate_mock_test_form
  - validate_study_plan_form
  - validate_paper_analysis_form  
  
forms:
  paper_analysis_form:
    required_slots:
      - department
      - semester
      - selected_subject
      - pattern

      
  mock_test_form:
    required_slots:
      - question_count
      - time_limit
      - difficulty_level
  study_plan_form:
    required_slots:
      - study_duration
      - selected_subject
    ignored_intents:
      - greet
      - goodbye

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true